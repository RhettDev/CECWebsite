<!-- Init history.html -->
<!DOCTYPE html>
<html lang="en-UK" class="lightTheme">
    <head>
        <meta charset="utf-8" />
        <title>Curtin Engineers Club</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="css/styles.css" />
        <script src="scripts/theme.js"></script>
        <script src="scripts/index.js" ></script>
        <script src="scripts/index.js" ></script>
        <link rel="icon" href="assets/icons/CECGearBlack.svg">
        <script src="https://kit.fontawesome.com/4c5395be19.js" crossorigin="anonymous"></script> <!-- Set up to add icons via Font Awesome but currently all Icons are local files--> 
        <script>
            setTheme();
            document.addEventListener("DOMContentLoaded", updateThemeIcons);
        </script>
    </head>
    <body>
        <div class="wipLabel">W.I.P - Come Back Semester 1!</div>
        <!-- Navigation Bar-->
        <div class="navigationBar" id="navbar">
            <div class="navLeft" id="navLeft">
                <a href="javascript:void(0);" onclick="hamLinks()" id="hamIcon">
                    <img class='icon' src="assets/icons/hamburgerIconBlack.svg" id="hamburgerIcon" style="width: 36;">
                </a>
                <a href="index.html" id="gearIcon" class="icon" style="width: 36px; height: 36px;">
                    <img class='icon' src="assets/icons/CECGearBlack.svg" id="CECLogo" style="width: 36px; height: 36px;">
                </a>
                <a id="cecTitle" href="index.html">Curtin Engineers Club</a>
                <div class="navLinks" id="hamLinks">
                    <a href="about.html">About</a>
                    <a href="events.html#1">Events</a>
                    <a href="sponsor.html">Sponsors</a>
                    <a href="history.html#clubHistory" class="active">History</a>
                    <a href="links.html">Links</a>
                </div>
            </div>
            <div class="navRight" id="navRight">
                <button class="icon" id="themeToggle" onclick="changeTheme()">
                    <img class="icon" id="themeToggleIcon" src="assets/icons/DARKMODE-IconBlack.svg">
                </button>
                <a href="https://curtin-cec.tidyhq.com/public/membership_levels" class="yellowButton" target="_blank" rel="noopener noreferrer">Sign Up!</a>
            </div>
        </div>
        <div class="backdrop" id="hamburgerBackdrop"></div>
        <script>document.getElementById('hamburgerBackdrop').addEventListener('click', hamLinks);</script>
        <div class="hamburgerList" id="hamburgerList">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="events.html#1">Events</a>
            <a href="sponsor.html">Sponsors</a>
            <a href="javascript:void(0);" onclick="hamLinks()"class="active">History</a>
            <a href="links.html">Links</a>
        </div>

        <div class="main">
    
            <!-- Buttons -->
            <div class="historyTabs">
                <a href="#clubHistory" class="txSubtitle textMobile" id="clubHistoryHeading">Club History</a>
                <a href="#pastExecs" class="txSubtitle textMobile" id="pastExecsHeading">Past Executive Committees</a>
                <a href="#lifeMembers" class="txSubtitle textMobile" id="lifeMembersHeading">Life Members</a>
            </div>

            <!-- Club History -->
            <div id="Club History" class="tabContent" style="width: 60%;">
                <div id="clubHistoryContainer" class="clubHistoryContainer"></div>

                <!-- Coming soon Hero-->
                <div class="e404Hero">
                    <div class="heroGroup.center">
                        <img src="assets/images/LegomanCoffeeWOutlineLarge.png" alt="Lego Man Coffee White Outline" style="width: 300px; height: auto;">
                    </div>
                    <div class="txHeader headingBorder textMobile">History Page Coming Soon!</div>
                </div>
                <!-- Current History Script -->
                <!-- <script>
                    fetch('data/clubHistory.json')
                    .then(res => res.json())
                    .then(clubHistory => {
                        const container = document.getElementById("clubHistoryContainer");
                        let cardHTML = '';
                        var prevYear = "1988";
                        clubHistory.forEach(historyObj => {
                            cardHTML += `
                            <div class="clubHistoryEntry">
                                <div class="clubHistoryLabel">
                                    ${historyObj.year != prevYear ?
                                        `<div class="clubHistoryYear">${historyObj.year}</div>` :
                                        '<div class="clubHistorySeparator"></div>'}
                                </div>
                                <div class="eventCard" style="width: 90%;">
                                    <img class="eventImg" src="${historyObj.image}" alt="${historyObj.title}">
                                    <div class="eventInfo">
                                        <div class="eventDetails">
                                            <p class="txParagraph1White" style="margin-top: 0px;">${historyObj.title}</p>
                                            <p class="txParagraph2White" style="text-align: right; margin-top: 0px;">${historyObj.month}-${historyObj.year}</p>
                                        </div>
                                        <p class="txParagraph2White" style="max-width: none; margin-bottom: 0px;">${historyObj.description}</p>
                                    </div>
                                </div>
                            </div>
                            `;
                            prevYear = historyObj.year;
                        });
                        container.innerHTML = cardHTML;
                    });
                </script> -->
            </div>

            <!-- Past Execs -->
            <div id="Past Executives"  class="tabContent">
                <div id="execHistoryContainerLandscape" class="heroContainerCOL"></div>
                <script>
                    fetch('data/execHistory.json')
                    .then(res => res.json())
                    .then(pastExecs => {
                        const container = document.getElementById('execHistoryContainerLandscape');
                        let html = '';
                        pastExecs.forEach(yearObj => {
                            html += `
                            <div class=historyYearRow style="align-items: center">
                                <div class="historyYearLabel">
                                    <p class="txHistoryYear">${yearObj.year}</p>
                                </div>
                            <div class="historyRolesRow">
                            `;
                            yearObj.roles.forEach(roleObj => {
                                // Each roleObj has a name array and a role array
                                html += `
                                <div class="historyRoleCard" style="align-items: start;">
                                    <p class="txHistoryName">${roleObj.name[0]}</p>
                                    <p class="txHistoryRole">${roleObj.role.join(', ')}</p>
                                </div>
                                `;
                            });
                            html += `
                                </div>
                            </div>
                            `;
                        });
                        container.innerHTML = html;
                    });
                </script>
                
                <div id="execHistoryContainerMobile" class="heroContainerCOL" style="margin-top: 0px;"></div>
                <script>
                    fetch('data/execHistory.json')
                    .then(res => res.json())
                    .then(pastExecs => {
                        const container = document.getElementById("execHistoryContainerMobile");
                        let html = ``;
                        let cardIndex = 0;
                        pastExecs.forEach(yearObj => {
                            html += `
                            <div class=historyYearRow style="align-items: center">
                                <div class="historyYearLabel">
                                    <p class="txHistoryYear">${yearObj.year}</p>
                                </div>
                            </div>
                            `;
                            for(let i = 0; i < yearObj.roles.length; i+=2){
                                cardIndex = 0;
                                html += `<div class="historyRolesRow">`;
                                yearObj.roles.slice(i, i+2).forEach(roleObj => {
                                    if(i === yearObj.roles.length - 1){
                                        html += `
                                        <div class="historyRoleCard" style="align-items: center;">
                                            <p class="txHistoryName">${roleObj.name[0]}</p>
                                            <p class="txHistoryRole">${roleObj.role.join(', ')}</p>
                                        </div>
                                        `;
                                    }
                                    else{
                                        const alignment = (cardIndex % 2 === 0) ? 'end' : 'start';
                                        html += `
                                        <div class="historyRoleCard" style="align-items: ${alignment};">
                                            <p class="txHistoryName">${roleObj.name[0]}</p>
                                            <p class="txHistoryRole">${roleObj.role.join(', ')}</p>
                                        </div>
                                        `;
                                        cardIndex++;
                                    }
                                    
                                });
                                html += `
                                </div>
                                `;
                            }
                        });
                        container.innerHTML = html;
                    })
                </script>
            </div>

            <!-- Life Members -->
            <div id="Life Members" class="tabContent">
                <div id="lifeMemberContainerLandscape" class="heroContainerCOL" style="gap: 16px;"></div>
                <script>
                    fetch('data/lifeMembers.json')
                    .then(res =>res.json())
                    .then(lifeMembers => {
                        const container = document.getElementById('lifeMemberContainerLandscape');
                        let html = ''
                        var i;
                        for(i = 0; i < lifeMembers.length - 1; i+=3){
                            html += `<div class="historyRow" style="display: flex; justify-content: center;">`;
                            lifeMembers.slice(i,i+3).forEach(lifeObj => {
                                html += ` 
                                    <div class="historyRow" style="gap: 0px;">
                                        <div class="historyYearLabel" style="text-align: center;">
                                            <p class="txHistoryYear">${lifeObj.year}</p>
                                        </div>
                                        <div class="historyRoleCard" style="justify-content: center;">
                                            <p class="txParagraph1">${lifeObj.name}</p>
                                        </div>
                                    </div>
                                `;
                            });
                            html += `</div>`;
                        }
                        container.innerHTML = html;
                    });
                </script>

                <div id="lifeMemberContainerMobile" class="heroContainerCOL" style="gap: 16px;"></div>
                <script>
                    fetch('data/lifeMembers.json')
                    .then(res =>res.json())
                    .then(lifeMembers => {
                        const container = document.getElementById('lifeMemberContainerMobile');
                        let html = ''
                        var i, n, m;
                        lifeMembers.forEach(lifeObj => {
                            html += ` 
                                <div class="historyRow" style="gap: 0px;">
                                    <div class="historyYearLabel" style="text-align: center;">
                                        <p class="txHistoryYear">${lifeObj.year}</p>
                                    </div>
                                    <div class="historyRoleCard" style="justify-content: center;">
                                        <p class="txParagraph1">${lifeObj.name}</p>
                                    </div>
                                </div>
                            `;
                        });
                        html += `</div>`;
                        container.innerHTML = html;
                    });
                </script>
            </div>

            <script>
                document.getElementById("Club History").style.display = "block";
                document.getElementById("clubHistoryHeading").classList.add("headingBorder");

                // Run when hash changes
                window.addEventListener("hashchange", changeHistoryTab);

                // Run on initial load
                changeHistoryTab();
            </script>
        </div> 

        <!-- Footer -->
        <div class="heroBar footerBar" style="background-color: #5271FF; align-items: center;">
            <div class="footerGroup">
                <p class="txSubtitleWhite" style="text-align: left; margin-bottom: 5px;">Curtin Engineers Club</p>
                <p class="txParagraph1White" style="margin-bottom: 30px; margin-top: 0px;">(CEC) Est. 1989</p>
                <a href="https://use.mazemap.com/#v=1&config=curtinuniversity&campusid=296&zlevel=1&center=115.894634,-32.007317&zoom=18&sharepoitype=poi&sharepoi=800206" class="txParagraph3White" style="margin-bottom: 30px;" target="_blank" rel="noopener noreferrer">Engineering Pavilion Room 106 (215:106) <br> Curtin University, Bentley, WA</a>     
            </div>
            <div class="footerGroup">
                <p class="txSubtitleWhite" style="text-align: left; margin-bottom: 5px;">Contact Us:</p>
                <p class="txParagraph1White" style="margin-bottom: 30px; margin-top: 0px;">contact@cec.curtin.edu.au</p>
                <a href="https://github.com/RhettDev/CECWebsite" class="txParagraph3White" style="margin-bottom: 5px;" target="_blank" rel="noopener noreferrer">@ CEC <script>document.write(new Date().getFullYear())</script> <br> Design and Code by Rhett Bauchop</a>
                <a href="https://forms.gle/yeJXGU1PxYxsbpKh6" class="txParagraph3White" style="margin-bottom: 30px;" target="_blank" rel="noopener noreferrer"><br>Report Bugs Here!</a>
            </div>
            <div class="iconGrid">
                <a href="https://guild.curtin.edu.au/" target="_blank" rel="noopener noreferrer">
                    <img src="assets/icons/CUR-GUILD-Logo-Secondary-WHITE.png" alt="Curtin Guild Logo"> <!-- Curtin Guiild Logo -->
                </a>
                <a href="https://www.facebook.com/CurtinEngineersClub" target="_blank" rel="noopener noreferrer">
                    <img src="assets/icons/FB-Icon.png" alt="Facebook Logo"> <!-- Facebook Logo -->
                </a>
                <a href="https://www.instagram.com/curtinengineersclub/" target="_blank" rel="noopener noreferrer">
                    <img src="assets/icons/IG-Icon.png" alt="Instagram Logo"> <!-- Instagram Logo -->
                </a>
                <a href="https://au.linkedin.com/company/curtin-engineers-club" target="_blank" rel="noopener noreferrer">
                    <img src="assets/icons/INDEED-Icon.png" alt="Linkedin Logo"> <!-- Linkedin Logo -->
                </a>
            </div>
        </div>
    </body>
</html>